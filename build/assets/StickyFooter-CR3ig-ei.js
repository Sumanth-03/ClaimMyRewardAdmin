import{a7 as u,a5 as d,a6 as C,r as n,j as y,c as S}from"./index-CuCeFzuJ.js";import{c as v}from"./CampaignRewardTrackingService-D6FBU9so.js";async function R(s){return u.fetchData({url:"/getChat",method:"post",data:s})}async function k(s){return u.fetchData({url:"/postDashMessage",method:"post",data:s})}const o="TrackingDetails",c=d(o+"/postCampaignResolve",async(s,{rejectWithValue:e})=>{var a,r;try{return(await v(s)).data}catch(t){return console.error("API Error:",t),e({message:((r=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:r.message)||"Something went wrong"})}}),i=d(o+"/getChat",async s=>(await R(s)).data),D=d(o+"/postMessage",async s=>(await k(s)).data),b={loading:!1,refresh:0,message:void 0},w=C({name:`${o}/state`,initialState:b,reducers:{resetState:s=>{s.loading=!0,s.refresh=0,s.message=void 0}},extraReducers:s=>{s.addCase(c.fulfilled,(e,a)=>{e.loading=!1}).addCase(c.pending,e=>{e.loading=!0}).addCase(c.rejected,(e,a)=>{console.error("API Request Failed:",a.error.message),e.loading=!1}).addCase(i.fulfilled,(e,a)=>{e.message=a.payload.data,e.loading=!1}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.rejected,(e,a)=>{console.error("API Request Failed:",a.error.message),e.loading=!1})}}),E=w.reducer,I=s=>{const{children:e,className:a,stickyClass:r,...t}=s,[f,m]=n.useState(!1),l=n.useRef(null);return n.useEffect(()=>{const g=l.current,p=new IntersectionObserver(([h])=>m(h.intersectionRatio<1),{threshold:[1]});return p.observe(g),function(){p.unobserve(g)}},[]),y.jsx("div",{ref:l,className:S("sticky -bottom-1",a,f&&r),...t,children:e})};export{I as S,c as a,R as b,i as g,D as p,E as r};
